"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[169],{73597:function(ie,W,u){u.r(W),u.d(W,{default:function(){return o}});var z=u(17061),a=u.n(z),Y=u(42122),I=u.n(Y),H=u(17156),h=u.n(H),b=u(27424),Z=u.n(b),F=u(51042),X=u(15715),$=u(31223),q=u(2236),M=u(70425),ee=u(57405),m=u(12461),J=u(30124),S=u(71577),ne=u(63463),T=u(67294),E=u(57668),B=u(85402),f=u(85893),D=function(s){var g=s.visible,e=s.columns,P=s.onCancel,w=s.onSubmit;return(0,f.jsx)(B.Z,{visible:g,footer:null,onCancel:function(){return P==null?void 0:P()},children:(0,f.jsx)($.Z,{type:"form",columns:e,onSubmit:function(){var j=h()(a()().mark(function R(C){return a()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:w==null||w(C);case 1:case"end":return U.stop()}},R)}));return function(R){return j.apply(this,arguments)}}()})})},N=D,G=function(s){var g=s.values,e=s.visible,P=s.columns,w=s.onCancel,j=s.onSubmit,R=(0,T.useRef)();return(0,T.useEffect)(function(){if(R){var C;(C=R.current)===null||C===void 0||C.setFieldsValue(g)}},[g]),(0,f.jsx)(B.Z,{visible:e,footer:null,onCancel:function(){return w==null?void 0:w()},children:(0,f.jsx)($.Z,{type:"form",formRef:R,columns:P,onSubmit:function(){var C=h()(a()().mark(function k(U){return a()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:j==null||j(U);case 1:case"end":return K.stop()}},k)}));return function(k){return C.apply(this,arguments)}}()})})},Q=G,A=function(){var s=(0,T.useState)(!1),g=Z()(s,2),e=g[0],P=g[1],w=(0,T.useState)(!1),j=Z()(w,2),R=j[0],C=j[1],k=(0,T.useState)(!1),U=Z()(k,2),_=U[0],K=U[1],O=(0,T.useRef)(),se=(0,T.useState)(),re=Z()(se,2),y=re[0],V=re[1],le=(0,T.useState)([]),ae=Z()(le,2),L=ae[0],te=ae[1],oe=function(){var p=h()(a()().mark(function l(r){var t,c;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=m.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),n.prev=1,n.next=4,(0,E.Y4)(I()({},r));case 4:return t(),m.ZP.success("\u521B\u5EFA\u6210\u529F"),P(!1),(c=O.current)===null||c===void 0||c.reload(),n.abrupt("return",!0);case 11:return n.prev=11,n.t0=n.catch(1),t(),m.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 16:case"end":return n.stop()}},l,null,[[1,11]])}));return function(r){return p.apply(this,arguments)}}(),de=function(){var p=h()(a()().mark(function l(r){var t,c;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(y){n.next=2;break}return n.abrupt("return");case 2:return t=m.ZP.loading("\u4FEE\u6539\u4E2D"),n.prev=3,n.next=6,(0,E.T7)(I()({id:y.id},r));case 6:return t(),m.ZP.success("\u64CD\u4F5C\u6210\u529F, \u8BF7\u91CD\u65B0\u53D1\u5E03\u63A5\u53E3"),(c=O.current)===null||c===void 0||c.reload(),n.abrupt("return",!0);case 12:return n.prev=12,n.t0=n.catch(3),t(),m.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 17:case"end":return n.stop()}},l,null,[[3,12]])}));return function(r){return p.apply(this,arguments)}}(),ce=function(){var p=h()(a()().mark(function l(r){var t,c;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=m.ZP.loading("\u53D1\u5E03\u4E2D"),r){n.next=3;break}return n.abrupt("return",!0);case 3:return n.prev=3,n.next=6,(0,E.GC)({id:r.id});case 6:return t(),m.ZP.success("\u64CD\u4F5C\u6210\u529F"),(c=O.current)===null||c===void 0||c.reload(),n.abrupt("return",!0);case 12:return n.prev=12,n.t0=n.catch(3),t(),m.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 17:case"end":return n.stop()}},l,null,[[3,12]])}));return function(r){return p.apply(this,arguments)}}(),fe=function(){var p=h()(a()().mark(function l(r){var t,c;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=m.ZP.loading("\u53D1\u5E03\u4E2D"),r){n.next=3;break}return n.abrupt("return",!0);case 3:return n.prev=3,n.next=6,(0,E.zr)({id:r.id});case 6:return t(),m.ZP.success("\u64CD\u4F5C\u6210\u529F"),(c=O.current)===null||c===void 0||c.reload(),n.abrupt("return",!0);case 12:return n.prev=12,n.t0=n.catch(3),t(),m.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 17:case"end":return n.stop()}},l,null,[[3,12]])}));return function(r){return p.apply(this,arguments)}}(),ue=function(){var p=h()(a()().mark(function l(r){var t,c,d;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(t=m.ZP.loading("\u6B63\u5728\u5220\u9664"),r){v.next=3;break}return v.abrupt("return",!0);case 3:v.prev=3,d=0;case 5:if(!(d<r.length)){v.next=11;break}return v.next=8,(0,E.XG)({id:r[d].id});case 8:d++,v.next=5;break;case 11:return t(),m.ZP.success("\u5220\u9664\u6210\u529F"),(c=O.current)===null||c===void 0||c.reload(),v.abrupt("return",!0);case 17:return v.prev=17,v.t0=v.catch(3),t(),m.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C"+v.t0.message),v.abrupt("return",!1);case 22:case"end":return v.stop()}},l,null,[[3,17]])}));return function(r){return p.apply(this,arguments)}}(),x=[{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",valueType:"text",formItemProps:{rules:[{required:!0}]}},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea"},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"method",valueType:"text"},{title:"\u8BF7\u6C42\u57FA\u5730\u5740&\u57DF\u540D",dataIndex:"baseUrl",valueType:"text"},{title:"\u7AEF\u53E3",dataIndex:"port",valueType:"text"},{title:"\u8BF7\u6C42\u8DEF\u5F84",dataIndex:"path",valueType:"text"},{title:"\u8BF7\u6C42\u4F53",dataIndex:"requestBody",valueType:"jsonCode"},{title:"\u8BF7\u6C42\u5934",dataIndex:"requestHeader",valueType:"jsonCode"},{title:"\u54CD\u5E94\u5934",dataIndex:"responseHeader",valueType:"jsonCode"},{title:"\u8BF7\u6C42\u793A\u4F8B",dataIndex:"demo",valueType:"jsonCode",renderFormItem:function(l,r){var t=r.defaultRender;return(0,f.jsx)(J.Z,{placeholder:"\u8BF7\u6B63\u786E\u586B\u5199Json\u683C\u5F0F\u793A\u4F8B\uFF0C \u5426\u5219\u63A5\u53E3\u65E0\u6CD5\u4E0A\u7EBF\uFF0C\u53EF\u5FFD\u7565\u7A7A\u767D"})}},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"\u5173\u95ED",status:"Default"},1:{text:"\u5F00\u542F",status:"Processing"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(l,r){return[(0,f.jsx)("a",{onClick:function(){C(!0),V(r)},children:"\u4FEE\u6539"},"config"),r.status===0?(0,f.jsx)("a",{onClick:function(){ce(r)},children:"\u53D1\u5E03"},"config"):(0,f.jsx)(S.Z,{type:"text",danger:!0,onClick:function(){fe(r)},children:"\u4E0B\u7EBF"},"config"),(0,f.jsx)(S.Z,{type:"text",danger:!0,onClick:function(){ue([r])},children:"\u5220\u9664"},"config")]}}];return(0,f.jsxs)(X._z,{children:[(0,f.jsx)($.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:O,rowKey:"id",search:{labelWidth:120},toolBarRender:function(l,r){var t=r.selectedRowKeys;return[(0,f.jsxs)(S.Z,{type:"primary",onClick:function(){P(!0)},children:[(0,f.jsx)(F.Z,{})," \u65B0\u5EFA"]},"primary"),t&&t.length&&(0,f.jsx)(S.Z,{onClick:function(){window.alert(t.join("-"))},children:"\u6279\u91CF\u5220\u9664"},"3")]},request:function(){var p=h()(a()().mark(function l(r,t,c){var d;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,E.Kz)(I()({},r));case 2:if(d=v.sent,!(d!=null&&d.data)){v.next=8;break}return console.log("res?.data.records",d==null?void 0:d.data.records),v.abrupt("return",{data:(d==null?void 0:d.data.records)||[],success:!0,total:(d==null?void 0:d.data.total)||0});case 8:return v.abrupt("return",{data:[],success:!1,total:0});case 9:case"end":return v.stop()}},l)}));return function(l,r,t){return p.apply(this,arguments)}}(),columns:x,rowSelection:{onChange:function(l,r){console.log("selectedRows",r),te(r)}}}),(L==null?void 0:L.length)>0&&(0,f.jsxs)(q.S,{extra:(0,f.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,f.jsx)("a",{style:{fontWeight:600},children:L.length})," ","\u9879 \xA0\xA0"]}),children:[(0,f.jsx)(S.Z,{onClick:h()(a()().mark(function p(){var l,r;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ue(L);case 2:te([]),(l=O.current)===null||l===void 0||(r=l.reloadAndRest)===null||r===void 0||r.call(l);case 4:case"end":return c.stop()}},p)})),children:"\u6279\u91CF\u5220\u9664"}),(0,f.jsx)(S.Z,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,f.jsx)(Q,{columns:x,onSubmit:function(){var p=h()(a()().mark(function l(r){var t;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,de(r);case 2:if(t=d.sent,!t){d.next=9;break}return d.next=6,(0,E.zr)({id:y==null?void 0:y.id});case 6:C(!1),V(void 0),O.current&&O.current.reload();case 9:case"end":return d.stop()}},l)}));return function(l){return p.apply(this,arguments)}}(),onCancel:function(){C(!1),_||V(void 0)},visible:R,values:y||{}}),(0,f.jsx)(ne.Z,{width:600,visible:_,onClose:function(){V(void 0),K(!1)},closable:!1,children:(y==null?void 0:y.name)&&(0,f.jsx)(M.vY,{column:2,title:y==null?void 0:y.name,request:h()(a()().mark(function p(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{data:y||{}});case 1:case"end":return r.stop()}},p)})),params:{id:y==null?void 0:y.name},columns:x})}),(0,f.jsx)(N,{columns:x,onCancel:function(){P(!1)},onSubmit:function(l){return new Promise(function(r){oe(l),r()})},visible:e})]})},o=A},57668:function(ie,W,u){u.d(W,{GC:function(){return N},Kz:function(){return E},Lu:function(){return J},T7:function(){return Q},XG:function(){return X},Y4:function(){return Z},x4:function(){return ee},zr:function(){return f}});var z=u(17061),a=u.n(z),Y=u(42122),I=u.n(Y),H=u(17156),h=u.n(H),b=u(57405);function Z(o,i){return F.apply(this,arguments)}function F(){return F=h()(a()().mark(function o(i,s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.request)("/api/interfaceInfo/add",I()({method:"POST",headers:{"Content-Type":"application/json"},data:i},s||{})));case 1:case"end":return e.stop()}},o)})),F.apply(this,arguments)}function X(o,i){return $.apply(this,arguments)}function $(){return $=h()(a()().mark(function o(i,s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.request)("/api/interfaceInfo/delete",I()({method:"POST",headers:{"Content-Type":"application/json"},data:i},s||{})));case 1:case"end":return e.stop()}},o)})),$.apply(this,arguments)}function q(o,i){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function o(i,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/interfaceInfo/get",_objectSpread({method:"GET",params:_objectSpread({},i)},s||{})));case 1:case"end":return e.stop()}},o)})),M.apply(this,arguments)}function ee(o,i){return m.apply(this,arguments)}function m(){return m=h()(a()().mark(function o(i,s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.request)("/api/interfaceInfo/getVO",I()({method:"GET",params:I()({},i)},s||{})));case 1:case"end":return e.stop()}},o)})),m.apply(this,arguments)}function J(o,i){return S.apply(this,arguments)}function S(){return S=h()(a()().mark(function o(i,s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.request)("/api/interfaceInfo/invoke",I()({method:"POST",headers:{"Content-Type":"application/json"},data:i},s||{})));case 1:case"end":return e.stop()}},o)})),S.apply(this,arguments)}function ne(o,i){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime().mark(function o(i,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/interfaceInfo/list",_objectSpread({method:"GET",params:_objectSpread({},i)},s||{})));case 1:case"end":return e.stop()}},o)})),T.apply(this,arguments)}function E(o,i){return B.apply(this,arguments)}function B(){return B=h()(a()().mark(function o(i,s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.request)("/api/interfaceInfo/list/page",I()({method:"GET",params:I()({},i)},s||{})));case 1:case"end":return e.stop()}},o)})),B.apply(this,arguments)}function f(o,i){return D.apply(this,arguments)}function D(){return D=h()(a()().mark(function o(i,s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.request)("/api/interfaceInfo/offline",I()({method:"POST",headers:{"Content-Type":"application/json"},data:i},s||{})));case 1:case"end":return e.stop()}},o)})),D.apply(this,arguments)}function N(o,i){return G.apply(this,arguments)}function G(){return G=h()(a()().mark(function o(i,s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.request)("/api/interfaceInfo/online",I()({method:"POST",headers:{"Content-Type":"application/json"},data:i},s||{})));case 1:case"end":return e.stop()}},o)})),G.apply(this,arguments)}function Q(o,i){return A.apply(this,arguments)}function A(){return A=h()(a()().mark(function o(i,s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.request)("/api/interfaceInfo/update",I()({method:"POST",headers:{"Content-Type":"application/json"},data:i},s||{})));case 1:case"end":return e.stop()}},o)})),A.apply(this,arguments)}}}]);
